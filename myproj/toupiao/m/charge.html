<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>在线充值-用户中心移动版</title>
    <link rel="stylesheet" href="css/iconfont.css">
    <link rel="stylesheet" href="css/m-main.css">
</head>
<body>
<div class="mainpage">
    <!-- 头部 -->
    <header>
        <div id="top" class="maincont top">
            <div class="logo-box">
                <a class="logo" href="index.html">
                    <img src="images/logo.png" alt="某某">
                </a>
                <span class="top-tit">在线充值</span>
            </div>
            <div id="navBtn" class="nav-btn">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <nav id="navBox" class="navigation">
            <ul>
                <li><a href="index.html"><span>首页</span></a></li>
                <li><a href="voteSystem.html"><span>投票系统</span></a></li>
                <li><a href="addVote.html"><span>新增投票</span></a></li>
                <li><a href="message.html"><span>消息管理<em class="badge">36</em></span></a></li>
                <li><a class="on" href="charge.html"><span>在线充值</span></a></li>
                <li><a href="userType.html"><span>会员等级</span></a></li>
                <li><a href="transaction-log.html"><span>消费管理</span></a></li>
                <li><a href="faq.html"><span>问题解答</span></a></li>
                <li><a href="user.html"><span>个人信息</span></a></li>
                <li><a href="login.html"><span>退出账号</span></a></li>
            </ul>
        </nav>
        <div class="head-h"></div>
    </header>
    <!-- 头部 -->

    <div class="vote-charge-wrap">
        <div class="form-wrap">
            <form action="#">
                <div class="maincont form-cont">
                    <div class="m-tit">充值金额</div>
                    <div class="money-item-list">
                        <div class="flex-box item-box">
                            <div class="item">
                                <input type="radio" name="money" id="m50" value="50" >
                                <label for="m50">
                                    <p>50<i>元</i></p>
                                </label>
                            </div>
                            <div class="item">
                                <input type="radio" name="money" id="m100" value="100">
                                <label for="m100">
                                    <p>100<i>元</i></p>
                                </label>
                            </div>
                            <div class="item">
                                <input type="radio" name="money" id="m200" value="200">
                                <label for="m200">
                                    <p>200<i>元</i></p>
                                </label>
                            </div>
                        </div>
                        <div class="flex-box item-box">
                            <div class="item">
                                <input type="radio" name="money" id="m300" value="300">
                                <label for="m300">
                                    <p>300<i>元</i></p>
                                </label>
                            </div>
                            <div class="item">
                                <input type="radio" name="money" id="m500" value="500">
                                <label for="m500">
                                    <p>500<i>元</i></p>
                                </label>
                            </div>
                            <div class="item item-mdiy">
                                <label for="">
                                    <input type="text" name="money" id="mdiy" placeholder="自定义" onkeyup="this.value=this.value.replace(/\D/g,'')">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="pay-num clearfix">
                        <div class="fl">应付金额：</div>
                        <div class="fr"><span id="needPay" class="num">49.88</span>元</div>
                    </div>
                    <div class="err"></div>
                    <div class="pay-way clearfix">
                        <div class="fl"><i class="v-icon vicon-alipay"></i>支付宝支付</div>
                        <div class="fr">
                            <input name="payWay" type="radio" class="vt-checkbox" id="way1">
                            <label for="way1"></label>
                        </div>
                    </div>
                    <div class="pay-way clearfix">
                        <div class="fl"><i class="v-icon vicon-weixin"></i>微信支付</div>
                        <div class="fr">
                            <input name="payWay" type="radio" class="vt-checkbox" id="way2">
                            <label for="way2"></label>
                        </div>
                    </div>
                </div>

                <div class="maincont form-btn">
                    <button class="btn btn-fullwidth submit">立即购买</button>
                </div>
            </form>
        </div>
    </div>
    
</div>
<!-- 底部 -->
<footer>
    <div class="foot maincont">
        <div class="foot-t clearfix">
            <div class="fl">
                <div class="logo-box">
                    <a class="logo" href="">
                        <img src="images/logo.png" alt="某某">
                    </a>
                    <span class="top-tit">某某用户中心</span>
                </div>
            </div>
            <div class="fr">
                <a href="" class="btn btn-kf">客服</a>
            </div>
        </div>
        <div class="foot-b clearfix">
            <div class="fl">
                <a class="on" href="">手机版</a>&nbsp;|&nbsp;<a href="">电脑版</a>
            </div>
            <div class="fr"><a id="gotop" href="#">返回顶部<i class="v-icon icon-arr-gotop"></i></a></div>
        </div>
    </div>
</footer>
<!-- 底部 -->

<script src="js/zepto/zepto.min.js"></script>
<script src="js/zepto/fx.js"></script>
<script src="js/zepto/touch.js"></script>
<script src="js/common.js"></script>

<script>
$(function(){

    // 点击自定义时取消其他选中
    $('.money-item-list').on('click','.item-mdiy',function(){
        $(this).siblings().children('input[type="radio"]').prop('checked',false);
    });

    // 输入框失去焦点赋值
    $('#mdiy').on('blur',function(){
        
        var val = $.trim($(this).val());
        var payEle = $('#needPay');
        var re = /^\d+(?=\.{0,1}\d+$|$)/;
        // 不是数字则提示
        if( ! re.test(val)){
            payEle.parents('.pay-num').next('.err').html('<span style="color:red">请输入数字</span>');
            return false;
        }else{
            payEle.parents('.pay-num').next('.err').html('');
        }
        payEle.text(val);
    });

    // 选项点击时赋值
    $('.money-item-list').on('click','input[type="radio"]',function(){
        $('#needPay').text($(this).val());
        $('#needPay').parents('.pay-num').next('.err').html('');
    });
});
</script>

</body>
</html>