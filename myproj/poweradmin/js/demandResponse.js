var themeConfig={colors:{chartBg:"transparent",axisLineC:"#ebeef0",xAxisLabelC:"#99a8bf",yAxisLabelC:"#4a4b56",legendC:"#333",legendC2:"#646487"}};function loadingData(){var t=Number($(".j-programme input:checked").data("fanganid"));console.log(t);var o=null;getData({request:"GET",url:apiRoot+"/api/web/demandresponse/loading/"+t,token:TOKEN},function(e){console.log("loadingA",e.data),o=Number(e.data.plan[1].code),getData({request:"GET",url:apiRoot+"/api/web/demandresponse/loading/"+t+"/"+o,token:TOKEN},function(e){console.log("loadingplanId",e)})})}var demandResponseChart=echarts.init(document.getElementById("demandResponseChart")),data=[["00:00",116],["00:30",129],["01:00",135],["01:30",86],["02:00",73],["02:30",85],["03:00",73],["02:30",68],["03:00",92],["03:30",130],["04:00",245],["04:30",139],["05:00",115],["05:30",111],["06:00",309],["06:30",206],["07:00",137],["07:30",128],["08:00",85],["08:30",94],["09:00",71],["09:30",106],["10:00",84],["10:30",93],["11:00",85],["11:30",73],["12:00",83],["12:30",125],["13:00",107],["13:30",82],["14:00",44],["14:30",72],["15:00",106],["15:30",107],["16:00",66],["16:30",91],["17:00",92],["17:30",113],["18:00",107],["18:30",131],["19:00",111],["19:30",64],["20:00",69],["20:30",88],["21:00",77],["21:30",83],["22:00",111],["22:30",57],["23:00",55],["23:30",60]],data2=[["00:00",106],["00:30",120],["01:00",125],["01:30",116],["02:00",173],["02:30",95],["03:00",83],["02:30",78],["03:00",82],["03:30",120],["04:00",225],["04:30",131],["05:00",125],["05:30",101],["06:00",209],["06:30",106],["07:00",157],["07:30",168],["08:00",185],["08:30",194],["09:00",171],["09:30",106],["10:00",94],["10:30",93],["11:00",75],["11:30",83],["12:00",93],["12:30",105],["13:00",117],["13:30",112],["14:00",144],["14:30",172],["15:00",156],["15:30",137],["16:00",96],["16:30",81],["17:00",82],["17:30",103],["18:00",117],["18:30",121],["19:00",91],["19:30",84],["20:00",89],["20:30",98],["21:00",107],["21:30",121],["22:00",141],["22:30",157],["23:00",75],["23:30",80]],dateList=data.map(function(e){return e[0]}),valueList=data.map(function(e){return 100}),valueList2=data2.map(function(e){return 200}),valueList3=data2.map(function(e){return 300}),option={backgroundColor:themeConfig.colors.chartBg,color:["#f87761","#02ffed"],grid:{top:"20%",bottom:"5%",left:"3%",right:"3%",containLabel:!0},legend:{align:"right",top:17,right:80,textStyle:{color:themeConfig.colors.legendC},data:["总电压","基线","需量"]},title:[{left:"right"}],tooltip:{trigger:"axis",padding:0,axisPointer:{type:"cross",label:{backgroundColor:themeConfig.colors.yAxisLabelC}},formatter:function(e){for(var t='<div class="chartTooltip"><div class="trang blue"></div>',o=0;o<e.length;o++)t+=e[o].seriesName+"："+e[o].value+"A<br/>";return t+="</div>"}},xAxis:[{axisLabel:{color:themeConfig.colors.xAxisLabelC},axisLine:{lineStyle:{color:themeConfig.colors.axisLineC}},data:dateList}],yAxis:[{name:"单位:kv",nameTextStyle:{color:themeConfig.colors.legendC},axisLine:{show:!1,lineStyle:{color:themeConfig.colors.axisLineC}},axisLabel:{color:themeConfig.colors.yAxisLabelC},splitLine:{show:!0,lineStyle:{color:themeConfig.colors.axisLineC}}}],series:[{name:"总电压",type:"line",symbolSize:8,itemStyle:{color:"#f4552b"},lineStyle:{color:"#f4552b",width:3},data:valueList},{name:"基线",type:"line",symbolSize:8,itemStyle:{color:"#5cb460"},lineStyle:{color:"#5cb460",width:3},data:valueList2},{name:"需量",type:"line",symbolSize:8,itemStyle:{color:"#08c7ac"},lineStyle:{color:"#08c7ac",width:3},data:valueList3}]};function chartsRsize(){demandResponseChart.resize()}demandResponseChart.setOption(option),$(".y-tag-btnLeft").on("mouseup",function(){$(".mCSB_buttonLeft").trigger("mouseup")}),$(".y-tag-btnLeft").on("mousedown",function(){$(".mCSB_buttonLeft").trigger("mousedown")}),$(".y-tag-btnRight").on("mousedown",function(){$(".mCSB_buttonRight").trigger("mousedown")}),$(".y-tag-btnRight").on("mouseup",function(){$(".mCSB_buttonRight").trigger("mouseup")}),$("#menuTree").contextMenu({selector:"a",items:{firstCommand:{name:"添加",icon:"set",className:"contextmenu-set",callback:function(e,t,o){console.log(e);var n=$(this).text();if($(this).hasClass("added"));else{var a='<span class="device-tag" data-menuid='+$(this).data("menuid")+">"+n+'<i class="closeIcon"></i></span>';$(".hengla .mCSB_container").append(a),$(".hengla").mCustomScrollbar("update"),$(".hengla").mCustomScrollbar("scrollTo","right")}$(this).addClass("added")}}}}),window.addEventListener("resize",function(){chartsRsize()}),$("#listenInput").on("blur change",function(){setTimeout(function(){chartsRsize()},300)});