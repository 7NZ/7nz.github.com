$(function(){var e={chartBg:"transparent",axisLineC:"#ebeef0",xAxisLabelC:"#99a8bf",yAxisLabelC:"#4a4b56",legendC:"#333",legendC2:"#646487"};$(".hengla").mCustomScrollbar({axis:"x",scrollButtons:{enable:Boolean}});var t=[["00:00",116],["00:30",129],["01:00",135],["01:30",86],["02:00",73],["02:30",85],["03:00",73],["02:30",68],["03:00",92],["03:30",130],["04:00",245],["04:30",139],["05:00",115],["05:30",111],["06:00",309],["06:30",206],["07:00",137],["07:30",128],["08:00",85],["08:30",94],["09:00",71],["09:30",106],["10:00",84],["10:30",93],["11:00",85],["11:30",73],["12:00",83],["12:30",125],["13:00",107],["13:30",82],["14:00",44],["14:30",72],["15:00",106],["15:30",107],["16:00",66],["16:30",91],["17:00",92],["17:30",113],["18:00",107],["18:30",131],["19:00",111],["19:30",64],["20:00",69],["20:30",88],["21:00",77],["21:30",83],["22:00",111],["22:30",57],["23:00",55],["23:30",60]],n=t.map(function(e){return e[0]}),a=a=t.map(function(e){return e[1]});layui.use("laydate",function(){layui.laydate.render({elem:"#Customize",type:"datetime",range:!0,done:function(e,t,n){e.split(" - ")[0],e.split(" - ")[1]}})});var o=echarts.init(document.getElementById("MonitoringPointChart")),i={backgroundColor:e.chartBg,color:["#f87761","#02ffed"],toolbox:{right:50,top:10},grid:{top:"20%",bottom:"5%",left:"3%",right:"3%",containLabel:!0},legend:{align:"right",top:50,right:80,textStyle:{color:e.legendC},data:["1#设备","2#设备"]},title:[{left:"right"}],tooltip:{trigger:"axis",padding:0,axisPointer:{type:"cross",label:{backgroundColor:e.legendC}},formatter:function(e){for(var t='<div class="chartTooltip"><div class="trang blue"></div>',n=0;n<e.length;n++)t+=e[n].seriesName+"："+e[n].value+"A<br/>";return t+="</div>"}},xAxis:{axisLabel:{color:e.xAxisLabelC},axisLine:{lineStyle:{color:e.axisLineC}},data:n},yAxis:{name:"单位:kv",nameTextStyle:{color:e.legendC},axisLine:{show:!1,lineStyle:{color:e.axisLineC}},axisLabel:{color:e.yAxisLabelC},splitLine:{show:!0,lineStyle:{color:e.axisLineC}}},series:[{name:"1#设备",type:"line",showSymbol:!1,lineStyle:{color:"#f87761",width:3},data:a}]};o.setOption(i);function l(){o.resize()}$(".j-energyItems").on("change",function(){$(".y-filter .radio-im").remove();Number($(this).find("option:selected").val())}),$(".y-tag-btnLeft").on("mouseup",function(){$(".mCSB_buttonLeft").trigger("mouseup")}),$(".y-tag-btnLeft").on("mousedown",function(){$(".mCSB_buttonLeft").trigger("mousedown")}),$(".y-tag-btnRight").on("mousedown",function(){$(".mCSB_buttonRight").trigger("mousedown")}),$(".y-tag-btnRight").on("mouseup",function(){$(".mCSB_buttonRight").trigger("mouseup")}),$("#menuTree").contextMenu({selector:"a",items:{firstCommand:{name:"添加",icon:"set",className:"contextmenu-set",callback:function(e,t,n){if($(".j-devicenodeIds .device-tag").length<4){var a=$(this).text();if(!$(this).hasClass("added")){var o='<span class="device-tag" data-menuid='+$(this).data("menuid")+">"+a+'<i class="closeIcon"></i></span>';$(".hengla .mCSB_container").append(o),$(".hengla").mCustomScrollbar("update"),$(".hengla").mCustomScrollbar("scrollTo","right"),$(this).addClass("added")}}else layui.use("layer",function(){layui.layer.open({type:1,id:"ajaxErr401dialog",skin:"layer-dialog",title:"信息提示",btn:"确认",closeBtn:0,content:'<div class="dialog-content"><div style="padding: 20px;">不可大于4个</div></div>'})})}}}}),$("body").on("click",".closeIcon",function(){$("#tree-ul .added[data-menuid="+$(this).parent(".device-tag").data("menuid")+"]").removeClass("added"),$(this).parent(".device-tag").remove(),$(".hengla").mCustomScrollbar("destroy"),$(".hengla").mCustomScrollbar({axis:"x",scrollButtons:{enable:Boolean}})}),window.addEventListener("resize",function(){l()}),$("#listenInput").on("blur change",function(){setTimeout(function(){l()},300)}),$('input[name="datetype"]').on("change",function(){var e=$("input[name='datetype']:checked").val();switch(ajaxStyle=e,$(".chart-nodata").remove(),e){case"day":case"month":case"year":$(".select-date").addClass("tchide");break;case"custom":$(".select-date").removeClass("tchide"),$(".time-range").val("")}}),$("body").on("change",'input[name="acheck2"]',function(){}),$("#btnQuery").on("click",function(){})});